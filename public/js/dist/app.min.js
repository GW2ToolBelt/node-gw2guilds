!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";b.exports={slugify:function(a){return encodeURIComponent(a.replace(/ /g,"-")).toLowerCase()},deslugify:function(a){return decodeURIComponent(a).replace(/-/g," ")}}},{}],2:[function(a){"use strict";$(function(){var b=$("form.guildSearch");b&&b.length&&a("./search.js")(b);var c=$("#linkBuilder");c&&c.length&&a("./linkBuilder.js")(c)})},{"./linkBuilder.js":3,"./search.js":4}],3:[function(a,b){"use strict";function c(a){u=a.data("guildnameurl"),v=a.find("#emblem"),w=a.find("#emblemSize"),x=a.find("#emblemBgColor"),y=a.find("#emblemCodes"),z=y.find("#emblemURL"),A=y.find("#emblemHTML"),B=y.find("#emblemBBCODE"),C=a.find("#previewPNG"),D=a.find("#previewSVG"),E=a.find("#downloadPNG"),F=a.find("#downloadSVG")}function d(a){var b=w.val(),c=x.val().replace(/#/g,""),d=p(b,c);(a||v.attr("src")!==d)&&(e(d,b),f(d,b))}function e(a,b){v.attr("src",a).css({width:b,height:b})}function f(a,b){g(a),h(a,b),i(a,b)}function g(a){z.empty().append($("<a>",{href:a,text:r(a)}))}function h(a,b){var c='<img src="'+r(a)+'" width='+b+" height="+b+" />";A.text(c)}function i(a,b){var c='[img width="'+b+'" height="'+b+'"]'+r(a)+"[/img]";B.text(c)}function j(){var a=v.attr("src");$.ajax({url:a,crossDomain:!0,dataType:"xml"}).done(function(a){var b=s(a);l(b),k(b),o(b,function(a,b){!a&&b&&b.length?(m(b),n(b)):(C.hide(),E.hide())})})}function k(a){D.text("SVG"),D.attr("href",a)}function l(a){F.text("SVG"),F.attr("download",u+".svg"),F.attr("href",a)}function m(a){C.attr("href",a),C.text("PNG"),C.show()}function n(a){E.attr("href",a),E.attr("download",u+".png"),E.text("PNG"),E.show()}function o(a,b){var c=w.val(),d=new Image;d.src=a,d.width=c,d.height=c,d.onload=function(){try{var a=document.createElement("canvas"),e=a.getContext("2d");a.width=c,a.height=c,e.drawImage(d,0,0),b(null,a.toDataURL("data:image/png"))}catch(f){console.log("png generation failed",f),b(f)}},d.onerror=function(){var a="failed to load source image";console.log("png generation failed",a),b(a)}}function p(a,b){return["","guilds",u,q(a,b)].join("/")}function q(a,b){var c=[a];return b&&b.length&&"transparent"!==b&&"none"!==b&&c.push(b),c.push("svg"),c.join(".")}function r(a){var b="80"===window.location.port?window.location.hostname:window.location.host;return"http://"+b+a}function s(a){var b=w.val(),c=$(a);c.find("svg").attr({width:b,height:b});var d=(new XMLSerializer).serializeToString(c[0]);return"data:image/svg+xml,"+escape(d)}var t,u,v,w,x,y,z,A,B,C,D,E,F;b.exports=function(a){t=a,c(t),d(!0),t.on("keyup change blur load","#emblemSize,#emblemBgColor",G.bind(t,!1)),v.on("load",j).trigger("load")};var G=_.debounce(d,250)},{}],4:[function(a,b){"use strict";function c(a){a.preventDefault();var b=$(this).find("input.guildName").val(),c=d.slugify(b),e="/guilds/"+c;window.location=e}var d=a("../../../lib/slugifier.js");b.exports=function(a){a.on("submit",c)}},{"../../../lib/slugifier.js":1}]},{},[2]);
//# sourceMappingURL=app.min.js.map